<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:documents="clr-namespace:Gemini.Avalonia.SimpleDemo.Documents"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Gemini.Avalonia.SimpleDemo.Views.SimpleDocumentView"
             x:DataType="documents:SimpleDocumentViewModel">
  
  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>
    
    <!-- 工具栏 -->
    <Border Grid.Row="0" Background="{DynamicResource SystemBaseLowColor}" Padding="8,4">
      <StackPanel Orientation="Horizontal" Spacing="8">
        <TextBlock Text="简单文本编辑器" VerticalAlignment="Center" FontWeight="SemiBold"/>
        <TextBlock Text="|" VerticalAlignment="Center" Foreground="{DynamicResource SystemBaseMediumColor}"/>
        <TextBlock Text="{Binding DisplayName}" VerticalAlignment="Center"/>
      </StackPanel>
    </Border>
    
    <!-- 编辑器 -->
    <Border Grid.Row="1" BorderBrush="{DynamicResource SystemBaseMediumLowColor}" BorderThickness="1">
      <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
        <TextBox Text="{Binding Content}" 
                 AcceptsReturn="True" 
                 AcceptsTab="True"
                 TextWrapping="NoWrap"
                 FontFamily="Consolas,Monaco,monospace"
                 FontSize="14"
                 BorderThickness="0"
                 Background="Transparent"
                 Padding="8"/>
      </ScrollViewer>
    </Border>
    
    <!-- 状态栏 -->
    <Border Grid.Row="2" Background="{DynamicResource SystemBaseLowColor}" Padding="8,4">
      <StackPanel Orientation="Horizontal" Spacing="16">
        <TextBlock Text="{Binding Content.Length, StringFormat='字符数: {0}'}" 
                   VerticalAlignment="Center" 
                   FontSize="12"/>
        <TextBlock Text="{Binding IsDirty, StringFormat='已修改: {0}'}" 
                   VerticalAlignment="Center" 
                   FontSize="12"/>
        <TextBlock Text="{Binding FilePath, StringFormat='路径: {0}'}" 
                   VerticalAlignment="Center" 
                   FontSize="12"
                   TextTrimming="CharacterEllipsis"/>
      </StackPanel>
    </Border>
  </Grid>
  
</UserControl>
